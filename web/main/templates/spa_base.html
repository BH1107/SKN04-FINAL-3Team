<!-- spa_base.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPA Example</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body data-theme="{% if settings.is_white_theme %}light{% else %}dark{% endif %}">
    <div class="container">
        <div class="sidebar" id="sidebar">
            <button class="nav-btn" id="home-btn">
                <img class="nav-icon" data-light="{% static 'images/nav/nav_home_light.png' %}" 
                     data-dark="{% static 'images/nav/nav_home_dark.png' %}" 
                     src="{% static 'images/nav/nav_home_light.png' %}" 
                     style="width: 30px; height: 30px;">
                <br>Home
            </button>
            <button class="nav-btn" data-url="/app/planner/">
                <img class="nav-icon" data-light="{% static 'images/nav/nav_planner_light.png' %}" 
                     data-dark="{% static 'images/nav/nav_planner_dark.png' %}" 
                     src="{% static 'images/nav/nav_planner_light.png' %}" 
                     style="width: 30px; height: 30px;">
                <br>Planner
            </button>
            <button class="nav-btn" data-url="/app/chatting/">
                <img class="nav-icon" data-light="{% static 'images/nav/nav_chattings_light.png' %}" 
                     data-dark="{% static 'images/nav/nav_chattings_dark.png' %}" 
                     src="{% static 'images/nav/nav_chattings_light.png' %}" 
                     style="width: 30px; height: 30px;">
                <br>Chatting
            </button>
            <button class="nav-btn" data-url="/app/favorites/">
                <img class="nav-icon" data-light="{% static 'images/nav/nav_favorites_light.png' %}" 
                     data-dark="{% static 'images/nav/nav_favorites_dark.png' %}" 
                     src="{% static 'images/nav/nav_favorites_light.png' %}" 
                     style="width: 30px; height: 30px;">
                <br>Bookmarks
            </button>
            <button class="nav-btn" data-url="/app/settings/">
                <img class="nav-icon" data-light="{% static 'images/nav/nav_settings_light.png' %}" 
                     data-dark="{% static 'images/nav/nav_settings_dark.png' %}" 
                     src="{% static 'images/nav/nav_settings_light.png' %}" 
                     style="width: 30px; height: 30px;">
                <br>Settings
            </button>
            <button class="nav-btn" data-url="/app/profile/">
                <img class="nav-icon" data-light="{% static 'images/nav/nav_profile_light.png' %}" 
                     data-dark="{% static 'images/nav/nav_profile_dark.png' %}" 
                     src="{% static 'images/nav/nav_profile_light.png' %}" 
                     style="width: 30px; height: 30px;">
                <br>Profile
            </button>
        </div>

        <!-- ÎèôÏ†Å ÏΩòÌÖêÏ∏† ÏòÅÏó≠ -->
        <div id="content1">            
            <!-- AJAXÎ°ú Î∂àÎü¨Ïò® partial HTMLÏù¥ Ïó¨Í∏∞ Îì§Ïñ¥Í∞ê -->
        </div>
        <!-- ÏßÄÎèÑ ÏòÅÏó≠ -->
        <div id="map-container">
            <div id="map"></div>
            <div id="map-panel">
                <div id="drag-handle"></div> <!-- ÎìúÎûòÍ∑∏ Ìï∏Îì§ Ï∂îÍ∞Ä -->
                <div id="button-panel">
                    <div class="title-group">
                        <strong id="panel-title"></strong>
                        <input id="edit-title" type="text" style="display: none;" maxlength="20">
                        <button id="editPanelTitleBtn" onclick="editPanelTitle()">‚úèÔ∏è</button>
                        <button id="editPanelTitleOKBtn" onclick="editPanelTitleOK()">‚úÖ</button>
                        <button id="editPanelTitleNOBtn" onclick="editPanelTitleNO()">‚ùå</button>
                    </div>
                    <div class="button-group">
                        <button id="removeContentBtn" onclick="removeContent()">üóëÔ∏è</button>
                        <button id="getBookmarkListBtn" onclick="getBookmarkList()">‚òÜ</button>
                        <button id="toggleUIBtn" onclick="toggleMapPanel()">‚Æü</button>
                    </div>
                </div> 
                <div class="map-panel-content">
                </div>
            </div>
        </div>
    </div>

    <!-- ÏÉàÎ°úÏö¥ Ïï†ÎãàÎ©îÏù¥ÏÖòÏö© DIV -->
    <div id="bookmarklist-div">
        <div style="display: flex; justify-content: flex-end; align-items: flex-end;">
            <button id="closeBookmarkListBtn" onclick="document.querySelector('#bookmarklist-div').classList.remove('active');">‚à®</button>
        </div>
        <div class="bookmarklist-panel">
            <div style="text-align: center; margin-bottom: 40px;">
                <h2 style="text-align: center; margin: 0; margin-bottom: 10px;">Edit this title</h2>
                <h3 style="display: none;"></h3>
                <input id="change-title" type="text" style="display: none; margin: 0 auto; margin-bottom: 10px;" maxlength="20">
                <h6 style="text-align: center; margin: 0;">(Double click the title to edit)</h6>
            </div>
            <ul>

            </ul>
        </div>
    </div>

    <!-- ÌåùÏóÖ Ï∞Ω -->
    <div id="popup" class="popup hidden">
        <div class="popup-content">
            <h3>Are you sure you want to delete your account?</h3>
            <div class="popup-buttons">
                <button id="confirm-delete" class="popup-button">Yes, Delete</button>
                <button id="cancel-delete" class="popup-button">Cancel</button>
            </div>
        </div>
    </div>
    <script>
        const isLoggedIn = {{ user.is_authenticated|yesno:"true,false" }};
        const ncpClientId = "{{ ncp_client_id|default:'' }}";
        const ncpClientSecret = "{{ ncp_client_secret|default:'' }}";
    </script>
    <script src="{% static 'js/spa_base.js' %}" defer></script>
</body>
</html>
