import os
import django

# Django 환경 설정
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'web.settings')
django.setup()

# Django ORM 코드 실행
from main.models import BookmarkSchedule

# 새로운 Schedule 레코드 추가
schedules = [
    {
        "schedule_id": "sc_00001",
        "name": "봄 여행 플랜",
        "json_data": '''
        [
          {
            "day": 1,
            "meals": {
              "아침": {
                "식사장소": {
                  "장소": "강남 브런치 카페",
                  "주소": "서울특별시 강남구 테헤란로 113",
                  "영업시간": "08:00 - 11:00",
                  "음식점특징": "다양한 브런치 메뉴 제공",
                  "기타정보": "예약 필수"
                },
                "명소": {
                  "명소이름": "코엑스 아쿠아리움",
                  "영업시간": "10:00 - 20:00",
                  "명소특징": "해양 생물 관람 가능",
                  "명소위치": "서울특별시 강남구 영동대로 513",
                  "기타정보": "학생 할인 가능"
                }
              }
            }
          }
        ]'''
    },
    {
        "schedule_id": "sc_00002",
        "name": "서울 투어",
        "json_data": '''
        [
          {
            "day": 1,
            "meals": {
              "아침": {
                "식사장소": {
                  "장소": "명동 해장국집",
                  "주소": "서울특별시 중구 명동길 23",
                  "영업시간": "07:00 - 10:00",
                  "음식점특징": "한국 전통 해장국 전문점",
                  "기타정보": "조식 세트 가능"
                },
                "명소": {
                  "명소이름": "덕수궁",
                  "영업시간": "09:00 - 18:00",
                  "명소특징": "조선 시대 궁궐",
                  "명소위치": "서울특별시 중구 세종대로 99",
                  "기타정보": "입장료 1,000원"
                }
              }
            }
          }
        ]'''
    },
    {
        "schedule_id": "sc_00003",
        "name": "한강 데이트 코스",
        "json_data": '''
        [
          {
            "day": 1,
            "meals": {
              "아침": {
                "식사장소": {
                  "장소": "이태원 맛집",
                  "주소": "서울특별시 용산구 이태원로 27",
                  "영업시간": "08:00 - 10:00",
                  "음식점특징": "다양한 세계 음식 제공",
                  "기타정보": "현장 대기 필요"
                },
                "명소": {
                  "명소이름": "남산타워",
                  "영업시간": "09:00 - 22:00",
                  "명소특징": "서울 전경 감상 가능",
                  "명소위치": "서울특별시 용산구 남산공원길 105",
                  "기타정보": "케이블카 운행"
                }
              }
            }
          }
        ]'''
    },
    {
        "schedule_id": "sc_00004",
        "name": "역사 여행",
        "json_data": '''
        [
          {
            "day": 1,
            "meals": {
              "아침": {
                "식사장소": {
                  "장소": "국립중앙박물관 카페",
                  "주소": "서울특별시 용산구 서빙고로 137",
                  "영업시간": "09:00 - 11:00",
                  "음식점특징": "박물관과 연결된 카페",
                  "기타정보": "주차 가능"
                },
                "명소": {
                  "명소이름": "국립중앙박물관",
                  "영업시간": "09:00 - 18:00",
                  "명소특징": "한국의 대표 박물관",
                  "명소위치": "서울특별시 용산구 서빙고로 137",
                  "기타정보": "무료 입장 가능"
                }
              }
            }
          }
        ]'''
    },
    {
        "schedule_id": "sc_00005",
        "name": "강남 투어",
        "json_data": '''
        [
          {
            "day": 1,
            "meals": {
              "아침": {
                "식사장소": {
                  "장소": "코엑스 브런치 카페",
                  "주소": "서울특별시 강남구 영동대로 513",
                  "영업시간": "07:30 - 10:30",
                  "음식점특징": "편안한 분위기의 카페",
                  "기타정보": "무료 와이파이 제공"
                },
                "명소": {
                  "명소이름": "코엑스 아쿠아리움",
                  "영업시간": "10:00 - 20:00",
                  "명소특징": "해양 생물 관람 가능",
                  "명소위치": "서울특별시 강남구 영동대로 513",
                  "기타정보": "학생 할인 가능"
                }
              }
            }
          }
        ]'''
    },
]

# 중복 방지 로직
new_schedules = []
for data in schedules:
    if not BookmarkSchedule.objects.filter(schedule_id=data["schedule_id"]).exists():
        new_schedules.append(BookmarkSchedule(**data))

# 새로운 데이터만 bulk_create
if new_schedules:
    BookmarkSchedule.objects.bulk_create(new_schedules)
    print(f"{len(new_schedules)}개의 Schedule 데이터가 추가되었습니다!")
else:
    print("중복 데이터가 존재하여 추가된 데이터가 없습니다.")
